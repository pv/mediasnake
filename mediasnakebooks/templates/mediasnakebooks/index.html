{% extends "mediasnakebooks/base.html" %}

{% block title %}Books{% endblock %}

{% block content %}
<div class="controls">
  {% if books.has_previous %}
  <a class="btn" href="?page={{ books.previous_page_number }}">Prev</a>
  {% endif %}
  
  <select id="page-select">
    {% for page in pages %}
    <option value="{{ page }}" {% if page == books.number %}selected{% endif %}>{{ page }}</option>
    {% endfor %}
  </select>
  
  {% if books.has_next %}
  <a class="btn" href="?page={{ books.next_page_number }}">Next</a>
  {% endif %}
</div>

<table>
  <tr>
    <th>Title</th>
    <th>Author</th>
  </tr>
  {% for book in books %}
  <tr>
    <td><a href="{% url 'ebook-pos' book.id 0 %}">{{ book.title }}</a></td>
    <td>{{ book.author }}</td>
  </tr>
  {% endfor %}
</table>
{% endblock %}


{% block extra_js %}
<script>
$("#page-select").change(function() {
    var dest = "";
    $("#page-select option:selected").each(function () {
        dest = $(this).attr("value");
    });
    if (dest != "") {
        window.location = "?page=" + dest;
    }
});
</script>
{% endblock %}
